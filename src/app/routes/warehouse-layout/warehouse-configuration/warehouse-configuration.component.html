<page-header title="{{'warehouse-configuration' |  i18n}}" ></page-header>

  <nz-tabset>
    <nz-tab nzTitle="{{'warehouse-configuration' | i18n}}">
      
      <nz-spin [nzSpinning]="isSpinning" [nzSize]="'large'">
        <nz-card>        
            <div nz-row [nzGutter]="24"> 
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="3">
                    {{ 'threePartyLogisticsFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="21">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.threePartyLogisticsFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="12">
                    {{ 'listPickEnabledFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="12">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.listPickEnabledFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="18">
                    {{ 'newLPNPrintLabelAtReceivingFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="6">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.newLPNPrintLabelAtReceivingFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="18">
                    {{ 'newLPNPrintLabelAtProducingFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="6">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.newLPNPrintLabelAtProducingFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
            </div>  
            
            <div nz-row [nzGutter]="24"> 
              <!--
    
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="20">
                    {{ 'locationUtilizationSnapshotEnabled' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="4">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.locationUtilizationSnapshotEnabled"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="20">
                    {{ 'inventoryAgingSnapshotEnabled' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="4">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.inventoryAgingSnapshotEnabled"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              
              -->
              <div nz-col [nzSpan]="7">
                <nz-form-item>
                    <nz-form-label [nzSpan]="10">
                    {{ 'billingRequestEnabledFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="6">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.billingRequestEnabledFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row [nzGutter]="24"> 
              
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="20">
                    {{ 'newLPNPrintLabelAtAdjustmentFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="4">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.newLPNPrintLabelAtAdjustmentFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label [nzSpan]="18">
                    {{ 'reuseLPNAfterRemovedFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="6">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.reuseLPNAfterRemovedFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              
              <div nz-col [nzSpan]="6">
                <nz-form-item>
                    <nz-form-label [nzSpan]="18">
                    {{ 'reuseLPNAfterShippedFlag' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="6">
                        <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.reuseLPNAfterShippedFlag"></label>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row [nzGutter]="24"> 
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                    <nz-form-label [nzSpan]="6">
                    {{ 'printing-strategy' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="18">
    
    
                      <nz-select [(ngModel)]="currentWarehouseConfiguration.printingStrategy" nzAllowClear>
                        <nz-option *ngFor="let printingStrategy of printingStrategyList | keys" [nzValue]="printingStrategy.key"
                          nzLabel="{{ 'PRINTING-STRATEGY-' + printingStrategy.key | i18n }}"></nz-option>
                      </nz-select>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                    <nz-form-label [nzSpan]="6">
                    {{ 'time-zone' | i18n }}
                    </nz-form-label>
                    <nz-form-control [nzSpan]="18">
    
    
                      <nz-select [(ngModel)]="currentWarehouseConfiguration.timeZone" nzAllowClear nzShowSearch>
                        <nz-option *ngFor="let zoneId of avaiableZoneIds " [nzValue]="zoneId"
                          [nzLabel]="zoneId"></nz-option>
                      </nz-select>
    
                    </nz-form-control>
                </nz-form-item>
              </div>
    
            </div> 
            <nz-card nzTitle="{{'weekDays' | i18n }}">
    
              <div nz-row>
                {{'specify-working-days' | i18n }}
              </div>  
              <div nz-row [nzGutter]="24">           
                <div nz-col [nzSpan]="3">
                  <nz-form-item>
                      <nz-form-label [nzSpan]="12">
                      {{ 'Sunday' | i18n }}
                      </nz-form-label>
                      <nz-form-control [nzSpan]="12">
                          <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.workingOnSundayFlag"></label>
      
                      </nz-form-control>
                  </nz-form-item>
                </div>       
                <div nz-col [nzSpan]="3">
                  <nz-form-item>
                      <nz-form-label [nzSpan]="12">
                      {{ 'Monday' | i18n }}
                      </nz-form-label>
                      <nz-form-control [nzSpan]="12">
                          <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.workingOnMondayFlag"></label>
      
                      </nz-form-control>
                  </nz-form-item>
                </div>     
                <div nz-col [nzSpan]="3">
                  <nz-form-item>
                      <nz-form-label [nzSpan]="12">
                      {{ 'Tuesday' | i18n }}
                      </nz-form-label>
                      <nz-form-control [nzSpan]="12">
                          <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.workingOnTuesdayFlag"></label>
      
                      </nz-form-control>
                  </nz-form-item>
                </div>     
                <div nz-col [nzSpan]="3">
                  <nz-form-item>
                      <nz-form-label [nzSpan]="12">
                      {{ 'Wednesday' | i18n }}
                      </nz-form-label>
                      <nz-form-control [nzSpan]="12">
                          <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.workingOnWednesdayFlag"></label>
      
                      </nz-form-control>
                  </nz-form-item>
                </div>     
                <div nz-col [nzSpan]="3">
                  <nz-form-item>
                      <nz-form-label [nzSpan]="12">
                      {{ 'Thursday' | i18n }}
                      </nz-form-label>
                      <nz-form-control [nzSpan]="12">
                          <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.workingOnThursdayFlag"></label>
      
                      </nz-form-control>
                  </nz-form-item>
                </div>     
                <div nz-col [nzSpan]="3">
                  <nz-form-item>
                      <nz-form-label [nzSpan]="12">
                      {{ 'Friday' | i18n }}
                      </nz-form-label>
                      <nz-form-control [nzSpan]="12">
                          <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.workingOnFridayFlag"></label>
      
                      </nz-form-control>
                  </nz-form-item>
                </div>
                
                <div nz-col [nzSpan]="3">
                  <nz-form-item>
                      <nz-form-label [nzSpan]="12">
                      {{ 'Saturday' | i18n }}
                      </nz-form-label>
                      <nz-form-control [nzSpan]="12">
                          <label nz-checkbox [(ngModel)]="currentWarehouseConfiguration.workingOnSaturdayFlag"></label>
      
                      </nz-form-control>
                  </nz-form-item>
                </div>   
              </div>
            </nz-card>
            <nz-card nzTitle="{{'holiday' | i18n }}"  >
    
              <h5>
                {{'specify-holiday' | i18n }}
              </h5>   
              
                <form nz-form [formGroup]="addHolidayForm">
                  <div nz-row [nzGutter]="24">
                    <div nz-col [nzSpan]="8">
                      <nz-form-item nzFlex>
                        <nz-form-label [nzSpan]="6" nzFor="date">
                          {{ 'date' | i18n }}
                        </nz-form-label>
                        <nz-form-control [nzSpan]="18">
                          <nz-input-group nzSize="large"> 
                            <nz-date-picker formControlName="date" name="date"></nz-date-picker>
      
                          </nz-input-group>
                        </nz-form-control>
                      </nz-form-item>
                    </div>
                    <div nz-col [nzSpan]="8">
                      <nz-form-item nzFlex>
                        <nz-form-label [nzSpan]="6" nzFor="description">
                          {{ 'description' | i18n }}
                        </nz-form-label>
                        <nz-form-control [nzSpan]="18">
                          <nz-input-group nzSize="large">
                            <input nz-input formControlName="description" />
                          </nz-input-group>
                        </nz-form-control>
                      </nz-form-item>
                    </div> 
                    <div nz-col [nzSpan]="8">
                      <button nz-button [nzType]="'primary'" (click)="addHoliday()"  >
                        {{ 'add' | i18n }}
                      </button>
                    </div>
                  </div>
                    
                </form>
              
                <nz-tabset [nzTabPosition]="'top'" [nzType]="'card'" [(nzSelectedIndex)]="holidayYearIndex">
                  <nz-tab *ngFor="let holidayYear of holidayYears; let i = index" [nzTitle]="holidayYear"> 
                    <h2 *ngIf="holidays[i] == null  || holidays[i].length ==0">{{'no-holiday-setup-for-the-year' | i18n}}</h2> 
                    <div *ngIf="holidays[i] != null  && holidays[i].length > 0">
    
                      <nz-list>
                        <nz-list-item *ngFor="let holidaysByYear of holidays[i]">
                          <ng-container > 
                            <nz-list-item-meta> 
                              <nz-list-item-meta-title>
                                {{ holidaysByYear.holidayDate  | date:'MM/dd/yyyy'}} 
                              </nz-list-item-meta-title>
                              <nz-list-item-meta-description>
                                {{ holidaysByYear.description  }}
                              </nz-list-item-meta-description> 
                            </nz-list-item-meta>
                            <ul nz-list-item-actions>
                              <nz-list-item-action><a (click)="removeHoliday(holidaysByYear)"><strong>{{'remove' | i18n}}</strong></a></nz-list-item-action> 
                            </ul>
                          </ng-container> 
                        </nz-list-item> 
                      </nz-list>
                    </div>
                  </nz-tab>
                </nz-tabset>
              
                
            </nz-card>
        </nz-card>
    
        <div nz-row nzJustify="start" style="padding: 15px;" nzAlign="middle" *ngIf="!displayOnly">
            <button nz-button nzType="primary" (click)="confirm()" >
                <span> {{ 'confirm' | i18n }}</span>
              </button>
        </div>
      </nz-spin>
    </nz-tab>
    <nz-tab nzTitle="{{'archive-configuration' | i18n}}"> 
      
      <nz-spin [nzSpinning]="isArchiveSpinning" [nzSize]="'large'">
        <div nz-row [nzGutter]="24">           
          <div nz-col [nzSpan]="12">
            <nz-form-item>
                <nz-form-label [nzSpan]="12">
                {{ 'inventoryArchiveEnabled' | i18n }}
                </nz-form-label>
                <nz-form-control [nzSpan]="12">
                    <label nz-checkbox [(ngModel)]="currentArchiveConfiguration.inventoryArchiveEnabled"></label>

                </nz-form-control>
            </nz-form-item>
          </div>           
        </div> 
        <div nz-row [nzGutter]="24">           
          <div nz-col [nzSpan]="12">
            <nz-form-item nzFlex>
              <nz-form-label [nzSpan]="12" nzFor="removedInventoryArchiveDays">
                {{ 'removedInventoryArchiveDays' | i18n }}
              </nz-form-label>
              <nz-form-control [nzSpan]="5">
                <nz-input-group nzSize="large">
                  <nz-input-number [(ngModel)]="currentArchiveConfiguration.removedInventoryArchiveDays"  
                      [nzMin]="0" [nzMax]="9999" [nzStep]="1"></nz-input-number>  
                </nz-input-group>
              </nz-form-control>
            </nz-form-item>
          </div> 
        </div>

        
        <div nz-row nzJustify="start" style="padding: 15px;" nzAlign="middle" *ngIf="!displayOnly">
          <button nz-button nzType="primary" (click)="confirmArchiveConfiguration()" >
              <span> {{ 'confirm' | i18n }}</span>
            </button>
      </div>
      </nz-spin>
    </nz-tab>

  </nz-tabset>

 