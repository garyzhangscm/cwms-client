<page-header [title]="pageTitle" [breadcrumb]="breadcrumb" [action]="returnLink"> </page-header>
<ng-template #returnLink>
  <a routerLink="/warehouse-layout/location-group" routerLinkActive="active">{{ 'return' | i18n }}</a>
</ng-template>
<ng-template #breadcrumb>
  <nz-breadcrumb>
    <nz-breadcrumb-item>
      <a routerLink="/" routerLinkActive="active">{{ 'breadcrumb.home' | i18n }}</a>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item><a>{{ 'breadcrumb.main' | i18n }}</a></nz-breadcrumb-item>
    <nz-breadcrumb-item><a>{{ 'breadcrumb.warehouse-layout' | i18n }}</a></nz-breadcrumb-item>
    <nz-breadcrumb-item><a routerLink="/warehouse-layout/location-group" routerLinkActive="active">{{
        'breadcrumb.location-group' | i18n
        }}</a></nz-breadcrumb-item>
    <nz-breadcrumb-item><a>{{ pageTitle }}</a></nz-breadcrumb-item>
  </nz-breadcrumb>
</ng-template>

<div nz-row style="padding: 50px">
  <div nz-col nzSpan="12" nzOffset="6">
    <nz-steps [nzCurrent]="0" [nzSize]="'default'">
      <nz-step nzTitle="{{ 'steps.location-group-maintenance.basic-info.title' | i18n }}"
        nzDescription="{{ 'steps.location-group-maintenance.basic-info.description' | i18n }}">
      </nz-step>
      <nz-step nzTitle="{{ 'steps.location-group-maintenance.confirm.title' | i18n }}"
        nzDescription="{{ 'steps.location-group-maintenance.confirm.description' | i18n }}">
      </nz-step>
    </nz-steps>
  </div>
</div>

<form nz-form [formGroup]="locationGroupForm">

  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="8">
          {{ 'name' | i18n }}
        </nz-form-label>
        <nz-form-control [nzSpan]="16" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
          <input nz-input formControlName="name" required />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="8">
          {{ 'description' | i18n }}
        </nz-form-label>
        <nz-form-control [nzSpan]="16" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
          <input nz-input formControlName="description" required />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="8">
          {{ 'location-group-type' | i18n }}
        </nz-form-label>
        <nz-form-control [nzSpan]="16" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}"
          [nzSuccessTip]="locationGroupTypeDetailTpl">
          <nz-select formControlName="type" (ngModelChange)="locationGroupTypeChange($event)">
            <nz-option *ngFor="let locationGroupType of locationGroupTypes" nzValue="{{ locationGroupType.value }}"
              nzLabel="{{ locationGroupType.label }}"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <ng-template #locationGroupTypeDetailTpl>
        <div>
          <nz-tag [nzColor]="'#2db7f5'" *ngIf="selectedLocationGroupType?.fourWallInventory">
            {{ 'location-group-type.four_wall_inventory' | i18n }}</nz-tag>
          <nz-tag [nzColor]="'#2db7f5'" *ngIf="selectedLocationGroupType.virtual">
            {{ 'location-group-type.virtual' | i18n }}</nz-tag>
        </div>
      </ng-template>
    </div>
  </div>

  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="2">
      </div>
    <div nz-col [nzSpan]="6">

      <nz-form-item>
        <nz-form-control>
          <nz-form-label>
            {{ 'location-group.storable' | i18n }}
          </nz-form-label>
          <label nz-checkbox formControlName="storable"> </label>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="2">
      </div>
    <div nz-col [nzSpan]="6">
      <nz-form-item>
        <nz-form-control>
          <nz-form-label >
            {{ 'location-group.pickable' | i18n }}
          </nz-form-label>
          <label nz-checkbox formControlName="pickable"></label>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="2">
      </div>
    <div nz-col [nzSpan]="6">
      <nz-form-item>
        <nz-form-control>
          <nz-form-label >
            {{ 'location-group.countable' | i18n }}
          </nz-form-label>
          <label nz-checkbox formControlName="countable"></label>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>

  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="2">
      </div>
    <div nz-col [nzSpan]="6">
      <nz-form-item>
        <nz-form-control>
          <nz-form-label >
            {{ 'location-group.adjustable' | i18n }}
          </nz-form-label>
          <label nz-checkbox formControlName="adjustable"></label>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="2">
      </div>
    <div nz-col [nzSpan]="6">
      <nz-form-item>
        <nz-form-control>
          <nz-form-label >
            {{ 'location-group.tracking-volume' | i18n }}
          </nz-form-label> 
              <label nz-checkbox formControlName="trackingVolume"></label> 
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="8">
          {{ 'location-group.volume-tracking-policy' | i18n }}
        </nz-form-label>
        <nz-form-control [nzSpan]="16">
          <nz-select formControlName="volumeTrackingPolicy">
            <nz-option *ngFor="let volumeTrackingPolicy of volumeTrackingPolicies | keys"
              [nzValue]="volumeTrackingPolicy.key"
              nzLabel="{{ 'LOCATION-VOLUME-TRACKING-POLICY-' + volumeTrackingPolicy.key | i18n }}"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="8">

      <nz-form-item>
        <nz-form-label [nzSpan]="12">
          {{ 'location-group.inventory-consolidation-strategy' | i18n }}
        </nz-form-label>
        <nz-form-control [nzSpan]="12" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
          <nz-select formControlName="inventoryConsolidationStrategy">
            <nz-option *ngFor="let inventoryConsolidationStrategy of inventoryConsolidationStrategies | keys"
              nzValue="{{ inventoryConsolidationStrategy.key }}"
              nzLabel="{{ 'INVENTORY-CONSOLIDATION-STRATEGY-' + inventoryConsolidationStrategy.key | i18n }}">
            </nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
</form>

<div nz-row nzType="flex" nzJustify="center">
  <button nz-button nzType="primary" (click)="goToConfirmPage()">
    {{ 'steps.next' | i18n }} :
    {{ 'steps.location-group-maintenance.confirm.title' | i18n }}
  </button>
</div>