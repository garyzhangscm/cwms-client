<page-header [title]="pageTitle" [breadcrumb]="breadcrumb" [action]="returnLink"> </page-header>
<ng-template #returnLink>
  <a routerLink="/common/supplier" routerLinkActive="active">{{
    'return' | i18n
    }}</a>
</ng-template>
<ng-template #breadcrumb>
  <nz-breadcrumb>
    <nz-breadcrumb-item>
      <a routerLink="/" routerLinkActive="active">{{ 'breadcrumb.home' | i18n }}</a>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item><a>{{ 'breadcrumb.main' | i18n }}</a></nz-breadcrumb-item>
    <nz-breadcrumb-item><a>{{ 'breadcrumb.common' | i18n }}</a></nz-breadcrumb-item>
    <nz-breadcrumb-item><a routerLink="/common/supplier" routerLinkActive="active">{{
        'breadcrumb.supplier' | i18n
        }}</a></nz-breadcrumb-item>
    <nz-breadcrumb-item><a>{{ pageTitle }}</a></nz-breadcrumb-item>
  </nz-breadcrumb>
</ng-template>


<div nz-row style="padding: 50px">
  <div nz-col nzSpan="12" nzOffset="6">
    <nz-steps [nzCurrent]="1" [nzSize]="'default'" (nzIndexChange)="onStepIndexChange($event)">
      <nz-step nzTitle="{{ 'steps.basic-info.title' | i18n }}"
        nzDescription="{{ 'steps.supplier-maintenance.basic-info.description' | i18n }}">
      </nz-step>
      <nz-step nzTitle="{{ 'steps.supplier-maintenance.address.title' | i18n }}"
        nzDescription="{{ 'steps.supplier-maintenance.address.description' | i18n }}">
      </nz-step>
      <nz-step nzTitle="{{ 'steps.confirm.title' | i18n }}" nzDescription="{{ 'steps.confirm.description' | i18n }}">
      </nz-step>
    </nz-steps>
  </div>
</div>



<nz-card [nzActions]="[cardFoot]">
  <form nz-form>
    
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">            
        <nz-form-item nzFlex>
          <nz-form-label [nzSpan]="2">
            {{ 'address' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSpan]="18" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <!--
            <input nz-input ngx-google-places-autocomplete (onAddressChange)="handleNewSupplierAddressChange($event)" />

            -->
            <input #ngxPlaces="ngx-places"
                  nz-input 
                  class="input"
                  type="text" 
                  style="width: 500px"
                  ngx-gp-autocomplete
                  (onAddressChange)="handleNewSupplierAddressChange($event)" />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <!--
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressCountry">
            {{ 'country' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressCountry" id="addressCountry" name="addressCountry"
              required />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressState">
            {{ 'state' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressState" id="addressState" name="addressState"
              required />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressCounty">
            {{ 'county' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressCounty" id="addressCounty" name="addressCounty"
              required />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressCity">
            {{ 'city' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressCity" id="addressCity" name="addressCity" required />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressDistrict">
            {{ 'district' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressDistrict" id="addressDistrict" name="addressDistrict"
              required />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressLine1">
            {{ 'address.line1' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressLine1" id="addressLine1" name="addressLine1"
              required />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressLine2">
            {{ 'address.line2' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressLine2" id="addressLine2" name="addressLine2"
              required />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="8">
        <nz-form-item nzFlex>
          <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="addressPostcode">
            {{ 'postcode' | i18n }}
          </nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback nzErrorTip="{{ 'error.form.field.required' | i18n }}">
            <input nz-input [(ngModel)]="currentSupplier!.addressPostcode" id="addressPostcode" name="addressPostcode"
              required />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    -->
  </form>
</nz-card>

<ng-template #cardFoot>
  <div nz-row nzType="flex" nzJustify="center">
    <button nz-button nzType="primary" (click)="goToConfirmPage()">
      {{ 'steps.next' | i18n }} :
      {{ 'steps.supplier-maintenance.confirm.title' | i18n }}
    </button>
  </div>
</ng-template>